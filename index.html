<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>SW London Weather</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <style>
Â  Â  Â  Â  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Inter', sans-serif;
Â  Â  Â  Â  Â  Â  background-color: #000;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Add the white-space property to handle newlines */
Â  Â  Â  Â  #weather-display {
Â  Â  Â  Â  Â  Â  white-space: pre-line;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div>
Â  Â  Â  Â  <div id="weather-display" class="flex flex-col items-center justify-center">
Â  Â  Â  Â  Â  Â  <p>Checking weather for journey to LMS...</p>
Â  Â  Â  Â  Â  Â <br>
Â  Â  Â  Â  Â  Â  <p> ğŸš¶ğŸ¼â€â™€ï¸â€â¡ï¸ ğŸšƒ ğŸš¶ğŸ¼â€â™€ï¸â€â¡ï¸ Â  Â  Â  ğŸ§¥ Â  Â  Â  â˜‚ï¸ Â  Â  Â  ? </p>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  const displayElement = document.getElementById('weather-display');

Â  Â  Â  Â  Â  Â  // IMPORTANT: This URL must be from the most recent deployment of your Apps Script
Â  Â  Â  Â  Â  Â  const GAS_WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbzP0BpghIq0aWod094PfFGwam8TZ2KL8Wx7oiHsT0CvQO89HrvM0So-u--GxUrfVixP8A/exec';
Â  Â  Â  Â  Â  Â  const LAT = 51.42;
Â  Â  Â  Â  Â  Â  const LON = -0.22;
Â  Â  Â  Â  Â  Â  // Add the 'past_days=1' parameter to the API URL to fetch yesterday's data
Â  Â  Â  Â  Â  Â  const apiUrl = `${GAS_WEB_APP_URL}?lat=${LAT}&lon=${LON}&past_days=1`;

Â  Â  Â  Â  Â  Â  if (GAS_WEB_APP_URL === 'YOUR_NEWLY_DEPLOYED_APPS_SCRIPT_URL_HERE') {
Â  Â  Â  Â  Â  Â  Â  Â  displayElement.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-red-500">Error: Google Apps Script URL not set.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm mt-2">Please edit this file and replace 'YOUR_NEWLY_DEPLOYED_APPS_SCRIPT_URL_HERE' with your deployed web app URL.</p>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Helper function to get a weather emoji from a WMO code
Â  Â  Â  Â  Â  Â  const wmoWeatherCodeToEmoji = (code, isDay) => {
Â  Â  Â  Â  Â  Â  Â  Â  const isNight = isDay === 0;
Â  Â  Â  Â  Â  Â  Â  Â  const emojis = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  0: isNight ? "ğŸŒ™" : "â˜€ï¸",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1: isNight ? "â˜ï¸ğŸŒ™" : "ğŸŒ¤ï¸",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2: isNight ? "â˜ï¸ğŸŒ™" : "â›…ï¸",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3: "â˜ï¸",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  45: "ğŸŒ«ï¸", 48: "ğŸŒ«ï¸",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  51: "ğŸŒ¦ï¸", 53: "ğŸŒ§ï¸", 55: "ğŸŒ§ï¸", 56: "ğŸ¥¶ğŸŒ§ï¸", 57: "ğŸ¥¶ğŸŒ§ï¸",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  61: "ğŸŒ§ï¸", 63: "ğŸŒ§ï¸", 65: "ğŸŒ§ï¸", 66: "ğŸ¥¶ğŸŒ§ï¸", 67: "ğŸ¥¶ğŸŒ§ï¸",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  71: "ğŸŒ¨ï¸", 73: "ğŸŒ¨ï¸", 75: "ğŸŒ¨ï¸", 77: "ğŸŒ¨ï¸",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  80: "ğŸŒ§ï¸", 81: "ğŸŒ§ï¸", 82: "ğŸŒ§ï¸", 85: "ğŸŒ¨ï¸", 86: "ğŸŒ¨ï¸",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  95: "â›ˆï¸", 96: "â›ˆï¸", 99: "â›ˆï¸"
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  return emojis[code] || "â“";
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  // Helper function to get weather description from WMO code
Â  Â  Â  Â  Â  Â  const getWeatherDescription = (code) => {
Â  Â  Â  Â  Â  Â  Â  Â  const descriptions = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  0: "Clear sky", 1: "Mainly clear", 2: "Partly cloudy", 3: "Overcast",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  45: "Fog", 48: "Depositing rime fog",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  51: "Light drizzle", 53: "Moderate drizzle", 55: "Dense drizzle",

